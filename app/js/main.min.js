"use strict";var mode,p1char,turn=1,clickLock=!1,signCircle='<div class="sign">o</div>',signCross='<div class="sign">x</div>';$(document).ready(function(){function e(e,o,t){board.printState(board.state),console.log("Player "+turn+" placed at "+e+" : "+o),0===board.state[o][e]&&(board.state[o][e]=turn,$(t).html(1===turn&&"x"===p1char||2===turn&&"o"===p1char?signCross:signCircle),board.state[o][e]=turn,a(board.checkState(board.state)),turn=1===turn?2:1)}function o(){$("#logo").html("<h1>X || O?</h1>"),2===mode&&$(".mp-menu-only").css("display","block"),$(".mode-selector").css("display","none"),$(".char-selector").css("display","block")}function t(){if(console.log("game started"),board.init(),$("#logo, .menu").css("display","none"),$(".gameover-window").css("display","none"),$(".board").fadeIn(500),1===mode&&2===turn){clickLock=!0;var o={state:board.state,turn:turn},t=ai.getChoice(o);e(t[1],t[0],$("#"+board.getId(t[1],t[0]))[0]),clickLock=!1}}function a(e){switch(e){case"tie":$(".gameover-message").html("It's a tie!"),$(".gameover-window").fadeIn(300);break;case"p1win":$(".gameover-message").html("Player 1 <br> wins!"),$(".gameover-window").fadeIn(300);break;case"p2win":$(".gameover-message").html("Player 2 <br> wins!"),$(".gameover-window").fadeIn(300)}}function c(){turn=1,$(".board").css("display","none"),$(".board , .gameover-window , .mp-menu-only, .char-selector").css("display","none"),$(".mode-selector").css("display","block"),$("#logo").html("<h1>XO</h1>"),$("#logo").fadeIn(200),$(".menu").fadeIn(500)}$("#1player").click(function(){mode=1,o()}),$("#2player").click(function(){mode=2,o()}),$(".char-selector").click(function(){p1char="char-x"===this.id?"x":"o",t()}),$(".field").click(function(){if(!clickLock){if(clickLock=!0,e(board.getX($(this).attr("id")),board.getY($(this).attr("id")),this),2===turn&&1===mode){var o={state:board.state,turn:turn},t=ai.getChoice(o);setTimeout(function(){e(t[1],t[0],$("#"+board.getId(t[1],t[0]))[0])},100)}clickLock=!1}}),$("#gameover-restart").click(function(){t()}),$("#gameover-back").click(function(){c()})});