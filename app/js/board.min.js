var BOARD_SIZE=3,board={init:function(){this.state=[];for(var t=0;t<3;t++){this.state[t]=[];for(var r=0;r<3;r++)this.state[t][r]=0,$("#f"+(3*r+t)).html("")}console.log("board initilized")},getX:function(t){return(t=t[1])%3},getY:function(t){return t=t[1],Math.floor(t/3)},getId:function(t,r){return"f"+(t+3*r)},checkState:function(t){for(var r,n,e=0,i=0;i<3;i++){r=0,n=0;for(var o=0;o<3;o++)1===t[o][i]?(r++,e++):2===t[o][i]&&(n++,e++);if(3===r)return"p1win";if(3===n)return"p2win"}for(var o=0;o<3;o++){r=0,n=0;for(var i=0;i<3;i++)1===t[o][i]?r++:2===t[o][i]&&n++;if(3===r)return"p1win";if(3===n)return"p2win"}r=0,n=0;for(var a=0;a<3;a++)1===t[a][a]?r++:t[a][a]&&n++;if(3===r)return"p1win";if(3===n)return"p2win";r=0;var f=0;n=0;for(var u=0,a=0;a<3;a++)1===t[a][2-a]?r++:2===t[a][2-a]&&n++,1===t[a][2-a]?f++:1===t[a][2-a]&&u++;return 3===r||3===f?"p1win":3===n||3===u?"p2win":9===e?"tie":void 0},printState:function(t){console.log("board state:");for(var r=0;r<3;r++)console.log(t[r])},gameOver:function(t){return"string"==typeof this.checkState(t)},place:function(t,r,n){0===board.state[r][t]&&(board.state[r][t]=turn,$(n).html(1===turn&&"x"===p1char||2===turn&&"o"===p1char?signCross:signCircle),board.state[board.getY($(this).attr("id"))][board.getX($(this).attr("id"))]=turn,gameOver(board.checkState(board.state)),turn=1===turn?2:1)}};